# TransPop 🚀
> **让翻译再次简单** ✨

<img width="562" height="712" alt="image" src="https://github.com/user-attachments/assets/c6787432-79fd-4f2f-8908-926065c8289c" />

厌倦了 `Cmd+C` -> 打开浏览器 -> 输入 "Google Translate" -> `Cmd+V` -> 哭泣 -> 重复的循环吗？

是的，我们也一样。这就是我们构建 **TransPop** 的原因。它就像你菜单栏里的巴别鱼，但没那么粘滑。

## 为什么选择 TransPop? 🧐

因为生命太短暂，不应该浪费在手动复制粘贴文本到浏览器标签页上。

### 🌟 让你惊呼 "哇" 的功能

*   **"双击" 魔法**: 按两次 `Cmd+C` (双重复制)。嘭！翻译弹出。就像召唤精灵一样，只不过是语言精灵。 🧞‍♂️
*   **迷你弹出模式**: 窗口出现在*你光标所在的位置*。我们称之为 "忍者模式"。你甚至不需要移动鼠标。 🥷
*   **可扩展 UI**: 需要更多空间？点击迷你界面中的扩展按钮（箭头图标）切换到全尺寸窗口。
*   **托盘图标**: 我们住在你的状态栏里。时刻注视。时刻等待。（以一种非令人毛骨悚然的方式）。 👀
*   **多重提供商**: 
    *   **Google 翻译 (免费)**: 开箱即用。无需设置。
    *   **OpenAI / Ollama**: 连接到你的本地 LLM (通过 Ollama) 或 OpenAI 兼容 API，获得更智能的翻译。
*   **语言交换**: 一键反转流向。`英语 -> 中文` 变成 `中文 -> 英语`。脑洞大开。 🤯
*   **智能关闭**: 选择关闭窗口时是最小化到托盘还是退出应用程序。你甚至可以告诉它 "不再询问"。
*   **深色模式**: 因为我们是开发者，浅色模式会灼伤我们的视网膜。 😎

## 🛠 技术栈 (极客内容)

使用纯粹的、未掺杂的 **Swift** 和 **SwiftUI** 构建。没有 Electron。没有 Chrome 实例吃掉你的内存。只有纯粹的原生性能。 🍏

*   **SwiftUI**: 在 macOS 上看起来很棒的声明式 UI。
*   **AppKit**: 用于处理繁琐的窗口管理和状态栏魔法。
*   **Combine**: 用于响应式状态管理。

## 📥 如何安装

不想从源码构建？没问题。

1.  前往 [Releases](https://github.com/ufolux/TransPop/releases) 页面。
2.  下载最新的 `.zip` 文件。
3.  解压并将 `TransPop.app` 拖入你的 `/Applications` 文件夹。

### ⚠️ "无法打开应用，因为无法验证开发者"?

如果 macOS 抱怨应用已损坏或无法打开（因为我们还没给 Apple 交 $99/年的保护费），请在终端运行此命令：

```bash
xattr -dr com.apple.quarantine /Applications/TransPop.app
```

然后再次尝试打开。

## 🏃‍♂️ 如何运行 (开发者)

想在本地运行这个坏小子？给你：

```bash
# 1. 克隆仓库 (废话)
git clone https://github.com/ufolux/TransPop.git

# 2. 进入 macos 文件夹
cd macos

# 3. 运行它！ 🚀
swift run
```

## 📦 构建

想构建发布版本？

```bash
cd macos
swift build -c release
```

## ⚙️ 配置

通过全视图中的齿轮图标访问 **设置**。

### 通用
*   **语言**: 更改应用程序界面语言。
*   **主题**: 在浅色、深色或系统主题之间切换。
*   **关闭操作**: 选择关闭窗口时发生的情况（询问、最小化或退出）。

### 翻译 API
*   **提供商**: 在 "Google (免费)" 和 "OpenAI 兼容" 之间切换。
*   **OpenAI 兼容设置**:
    *   **API URL**: 默认为 `http://127.0.0.1:11434/v1/chat/completions` (完美适配 Ollama)。
    *   **API Key**: 本地 LLM 可选。
    *   **模型**: 指定模型名称 (例如 `llama3`, `gpt-4o`, `zongwei/gemma3-translator:1b` 我试过这个，完美工作)。

## 🤝 贡献

发现 bug？想添加克林贡语支持？欢迎 PR！只要别破坏 "双击" 功能，否则我们会暴动。

---
*由 ufolux 用 ❤️ 和过量的咖啡因制作*
